## 代码结构

菜品知识图谱的构建代码在目录`./codes/build_graph`中，主要有四个需要执行的文件，进入该目录执行即可。

- `./code/build_graph/requirements.txt`：依赖文件，在目录中执行`pip install -r requirements.txt`即可安装所需依赖，环境为`python3`

- `./codes/build_graph/insert_shicai.py`：将食材和食材类导入图数据库
- `./codes/build_graph/insert_caipin.py`：将菜品和相关关系导入图数据库，数据量十分大，耗时大概一个多星期

- `./codes/build_graph/insert_others.py`：将其他实体类导入数据库

需要注意的地方：

- 在执行`insert_caipin.py`前需要将原始菜品数据压缩文件`processing.zip`和`processing.zip`解压缩并放入`./data/caipin/`目录中。
- 菜品图数据库放在学校的服务器上，地址和密码在`./config/readme.txt`文件中，可以登录该地址查看数据库。

## 菜品知识图谱模式层

### 实体类

#### 菜系

名称（川菜、湘菜、粤菜、东北菜、鲁菜、浙菜、苏菜、清真菜、闽菜、沪菜、京菜、湖北菜、徽菜、豫菜、西北菜、云贵菜、江西菜、山西菜、广西菜、港台菜、其它菜）

#### 口味

名称（酸、甜、苦、辣、咸、鲜、臭、香、咖喱、糖醋、蒜香）

#### 菜品类

名称（主食、甜品、热菜、凉菜、汤羹、小吃、西餐、烘焙、饮品、早餐、中餐、晚餐、夜宵）

#### 菜品

名称、别名、做法、准备时间、烹饪时间、难度

#### 食材

名称、有无特殊气味

#### 食材类别

名称（肉禽、蔬菜、豆制品、水产、米面、药食）

#### 人群

名称（孕妇、老人、产妇、哺乳期、青少年、幼儿、学龄期儿童）

#### 工艺

名称（煎、蒸、炖、红烧、炸、卤、干锅、火锅、拌、炒、煮）



### 关系类

#### 菜系-菜品（属于）

#### 菜品-口味（属于）

#### 食材-食材类别（属于）

#### 菜品-菜品类（属于）

#### 菜品-食材（包含）

用量

#### 菜品-人群（适合）

是否适合

#### 菜品-工艺（使用）



```
{
	"名称": "西红柿炒鸡蛋"，
	"别名": "",
	"做法": "......",
	"准备时间": "......",
	"烹饪时间": "......",
	"难度": "",
	"食材": [name1, name2]
}

{
	"类别名称": "肉",
	"食材列表": [name1, name2]
}
{
	"类别名称": "菜",
	"食材列表": [name1, name2]
}
```

